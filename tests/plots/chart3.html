<!DOCTYPE html>
<html>
    <head>
        <title>PlotTest</title>
    </head>
    <body>
        <canvas id="plot"></canvas>

        <script type="module">
            import Plot from '../../src/PlotLines.js'
            import * as util from '../../src/utils.js'
            util.toWindow({ Plot, util })

            const pens = {
                susceptible: 'blue',
                infected: 'red',
                resistant: 'black',
            }
            const plot = new Plot('plot', pens)

            const increment = 25
            const ranIncr = () => util.randomInt2(-increment, increment)
            const addPoints = () => {
                if (plot.ticks.length === 0) {
                    util.forLoop(pens, (val, key) => (pens[key] = 0))
                } else {
                    util.forLoop(pens, (val, key) => (pens[key] += ranIncr()))
                }
                plot.addPoints(pens)
            }
            util.toWindow({ addPoints })
            util.timeoutLoop(addPoints, 100)
        </script>
    </body>
</html>
